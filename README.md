# Insider Deals ‚Äî Smartlab + SQLite

–ü–∞—Ä—Å–µ—Ä –∏–Ω—Å–∞–π–¥–µ—Ä—Å–∫–∏—Ö —Å–¥–µ–ª–æ–∫ —Å **smartlab.news/type/disclosure-insiders**,  
REST API –Ω–∞ **FastAPI**, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ **httpx + BeautifulSoup4**,  
—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ **SQLite (SQLAlchemy async)**, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é.

## üß© –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- FastAPI ‚Äî REST API
- httpx ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã
- BeautifulSoup4 ‚Äî HTML-–ø–∞—Ä—Å–∏–Ω–≥
- SQLite ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- SQLAlchemy Async ‚Äî ORM
- APScheduler ‚Äî —Ñ–æ–Ω–æ–≤–æ–µ –ø–æ—á–∞—Å–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- URL-–∫—ç—à (`scraped_articles`)
- –õ–æ–≥ –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ (`scraper_errors`)

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ Smartlab.news
–ò—Å—Ç–æ—á–Ω–∏–∫: https://smartlab.news/type/disclosure-insiders

–°–µ—Ä–≤–∏—Å —Å–æ–±–∏—Ä–∞–µ—Ç:
- —Å–¥–µ–ª–∫–∏ –∏–Ω—Å–∞–π–¥–µ—Ä–æ–≤,
- —Å–æ–±—ã—Ç–∏—è —Ç–∏–ø–∞ BUYBACK,
- –Ω–æ–≤—ã–µ —Å—Ç–∞—Ç—å–∏ (–ø–æ URL),
- –ø–∏—à–µ—Ç –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥, –Ω–µ –ª–æ–º–∞—è –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å.

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö URL
–•—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `scraped_articles`.

### –õ–æ–≥ –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞
–û—à–∏–±–∫–∏ –ø–æ URL: —Ç–∞–±–ª–∏—Ü–∞ `scraper_errors`.

### –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑ –≤ —á–∞—Å
–ß–µ—Ä–µ–∑ APScheduler.

### –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ + —Å–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö
–î–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ API.

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
python -m venv .venv
# Windows PowerShell
.\.venv\Scripts\Activate.ps1

pip install -r requirements.txt

uvicorn app.main:app --reload
```

–°–µ—Ä–≤–∏—Å —Å—Ç–∞—Ä—Ç—É–µ—Ç:  
http://localhost:8000

## üåê –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|-----------|
| POST | /update | –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ |
| GET | /buybacks | BUYBACK —Å–¥–µ–ª–∫–∏ |
| GET | /errors | –û—à–∏–±–∫–∏ |
| GET | /health | –ü—Ä–æ–≤–µ—Ä–∫–∞ |
| POST | /reset | –°–±—Ä–æ—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö |

# üß™ –í—ã–∑–æ–≤ API —á–µ—Ä–µ–∑ REST Client (VS Code)

–§–∞–π–ª `insider_deals.http`:

–ù–∞–¥ –∫–∞–∂–¥—ã–º –∑–∞–ø—Ä–æ—Å–æ–º –±—É–¥–µ—Ç –∫–Ω–æ–ø–∫–∞ **Send Request**.

